<%= form_with model: @recipe do |f| %>

    <% if @recipe.errors.any? %>
    <div id="errors">
        <% @recipe.errors.full_messages.each do |msg| %>
            <div class="alert"><%= msg %></div>
        <% end %>
    </div>
    <% end %>
    
    <%= render partial: "layouts/errors", locals: {record: @recipe} %>
    <%= f.label :title %>
    <%= f.text_field :title, placeholder: "Recipe Title" %>
    <br>
    <br>
    <%= f.label :category %>
    <%= f.text_field :category, placeholder: "Category" %>
    <br>
    <br>
    <%= f.fields_for :ingredients do |i| %>
        <%= i.label :ingredient %>
        <%= i.text_field :name, placeholder: "Ingredient" %>
    <% end %>

    <%= f.fields_for :recipe_ingredients do |g| %>
        <%= g.text_field :amount, placeholder: "Amount" %>
        <%= g.text_field :unit_of_measure, placeholder: "Unit of Measure" %>
    <% end %>
    <br>
    <br>
    <%= f.label :instructions %>
    <%= f.text_field :instructions %>
    <br>
    <br>
    <%= f.submit "Add Recipe!" %>

<% end %>